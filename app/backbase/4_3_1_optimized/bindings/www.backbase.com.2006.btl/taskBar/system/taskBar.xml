<?xml version="1.0" encoding="UTF-8"?><d:tdl xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://www.backbase.com/2006/btl" xmlns:d="http://www.backbase.com/2006/tdl"><d:namespace name="http://www.backbase.com/2006/btl"><d:uses element="taskBarBase taskBarItemBase" src="../taskBarBase.xml"/><d:element name="taskBar" extends="b:taskBarBase"><d:resource type="text/css"><![CDATA[.btl-taskBar{cursor:default;background-color:ThreeDLightShadow;}.btl-taskBar-ul{padding:0;margin:0;list-style:none;}.btl-windowArea .btl-taskBar{position:absolute;}.btl-taskBar-horizontal{width:100%;left:0;}.btl-taskBar-top{top:0;padding-top:1px;padding-bottom:1px;}.btl-taskBar-bottom{bottom:0;padding-top:1px;padding-bottom:1px;}.btl-taskBar-vertical{width:120px;height:100%;top:0;}.btl-taskBar-left{left:0;padding-right:1px;padding-left:2px;}.btl-taskBar-right{right:0;padding-right:2px;padding-left:1px;}.btl-taskBar-horizontal .btl-taskBarHeight{float:left;width:1px;overflow:hidden;}.btl-taskBarHeight .btl-label{padding:4px;}.btl-taskBar-vertical .btl-taskBarHeight{display:none;}.btl-taskBarItem{float:left;margin:0 1px;overflow:hidden;cursor:pointer;width:116px;}.btl-taskBarItem-border{border-width:1px;border-style:solid;border-color:ThreeDHighlight ThreeDDarkShadow ThreeDDarkShadow ThreeDHighlight;padding:0;margin:0;}.btl-item-inner{background-color:ThreeDFace;border-width:1px;border-style:solid;border-color:ThreeDLightShadow ThreeDShadow ThreeDShadow ThreeDLightShadow;}.btl-taskBar-clear{clear:both;}.btl-taskBar-vertical .btl-taskBarItem{float:none;margin:0 0 1px 0;}.btl-taskBarItem .btl-label{padding:2px 4px;}.btl-taskBarItem-text{white-space:nowrap;text-overflow:ellipsis;}.btl-taskBarItem-active .btl-taskBarItem-border{background-color:ThreeDHighlight;border-color:ThreeDDarkShadow ThreeDHighlight ThreeDHighlight ThreeDDarkShadow;}.btl-taskBarItem-active .btl-item-inner{background-color:ThreeDHighlight;border-color:ThreeDShadow ThreeDLightShadow ThreeDLightShadow ThreeDShadow;}.btl-taskBarItem-active .btl-label,.btl-taskBarItem-press .btl-label{padding:3px 3px 1px 5px;}.btl-taskBarItem-active .btl-taskBarItem-text{font-weight:bold;}.btl-windowArea-with-taskBar .btl-window-minimized{display:none;}.btl-windowArea-with-taskBar .btl-window .btl-window-minimized{display:block;}.btl-taskBar,.btl-taskBar *{box-sizing:border-box;-moz-box-sizing:border-box;-khtml-box-sizing:border-box;}.btl-taskBar{z-index:10000;}.ie .btl-taskBarItem-text{overflow:hidden;width:100%;}]]></d:resource><d:resource type="text/javascript"><![CDATA[btl.taskBar={};btl.taskBar.updatePosition=function btl_taskBar_updatePosition(oController){if(!oController._._windowArea){return;}var sOrientation=oController.getProperty('orientation');switch(sOrientation){case 'top':bb.html.replaceClass(oController.viewNode,['btl-taskBar-vertical','btl-taskBar-left','btl-taskBar-right','btl-taskBar-bottom'],['btl-taskBar-horizontal','btl-taskBar-top']);break;case 'right':bb.html.replaceClass(oController.viewNode,['btl-taskBar-horizontal','btl-taskBar-top','btl-taskBar-bottom','btl-taskBar-left'],['btl-taskBar-vertical','btl-taskBar-right']);break;case 'bottom':bb.html.replaceClass(oController.viewNode,['btl-taskBar-vertical','btl-taskBar-left','btl-taskBar-right','btl-taskBar-top'],['btl-taskBar-horizontal','btl-taskBar-bottom']);break;case 'left':bb.html.replaceClass(oController.viewNode,['btl-taskBar-horizontal','btl-taskBar-top','btl-taskBar-bottom','btl-taskBar-right'],['btl-taskBar-vertical','btl-taskBar-left']);break;case 'vertical':bb.html.replaceClass(oController.viewNode,['btl-taskBar-horizontal','btl-taskBar-left','btl-taskBar-right','btl-taskBar-top','btl-taskBar-bottom'],'btl-taskBar-vertical');break;case 'horizontal':default:bb.html.replaceClass(oController.viewNode,['btl-taskBar-vertical','btl-taskBar-left','btl-taskBar-right','btl-taskBar-top','btl-taskBar-bottom'],'btl-taskBar-horizontal');break;}this.updateWidth(oController);};btl.taskBar.updateWidth=function(oController){var aItems=oController.getProperty('items');var sSize='auto';var iItems=aItems.length;var sOrientation=oController.getProperty('orientation');if(sOrientation==='top'||sOrientation==='bottom'||sOrientation==='horizontal'){var iWidth=bb.html.getBoxObject(oController.viewNode).width-(iItems*2+5);var iNewWidth=150;sSize=iNewWidth;if(iItems*iNewWidth>iWidth){sSize=iWidth/iItems;}}for(var i=iItems-1;i>=0;i--){if(sSize!=='auto'){btl.html.setWidth(aItems[i].viewNode,sSize);}else{aItems[i].viewNode.style.width='auto';}}};]]></d:resource><d:template type="application/xhtml+xml"><div class="btl-taskBar btl-bevel-top-bottom"><div class="btl-taskBarHeight"><div class="btl-label">Â </div></div><ul class="btl-taskBar-ul"><d:content/></ul><div class="btl-taskBar-clear"/></div></d:template><d:attribute name="orientation" onmap="btl.taskBar.updatePosition(this)"/><d:property name="orientation"><d:setter type="text/javascript"><![CDATA[this.setAttribute(name,value);]]></d:setter><d:getter type="text/javascript"><![CDATA[var sPos=this.getAttribute('orientation');var bInside=(this._['_windowArea']==this.getProperty('parentNode'));if(!bInside&&sPos!='vertical'){sPos='horizontal';}else{if(bInside&&sPos=='horizontal'){sPos='bottom';}else{if(bInside&&sPos=='vertical'){sPos='right';}}}return sPos;]]></d:getter></d:property><d:method name="paint"><d:body type="text/javascript"><![CDATA[btl.taskBar.updatePosition(this);]]></d:body></d:method><d:method name="createItem"><d:body type="text/javascript"><![CDATA[return bb.document.createElementNS(btl.namespaceURI,'taskBarItem');]]></d:body></d:method><d:method name="addItem"><d:argument name="window"/><d:body type="text/javascript"><![CDATA[var oItem=this.callSuper('addItem',[window]);this.viewGate.appendChild(oItem.viewNode);btl.taskBar.updateWidth(this);]]></d:body></d:method><d:method name="removeItem"><d:argument name="item"/><d:body type="text/javascript"><![CDATA[if(item){this.viewGate.removeChild(item.viewNode);this.callSuper('removeItem',[item]);}btl.taskBar.updateWidth(this);]]></d:body></d:method><d:method name="init"><d:body type="text/javascript"><![CDATA[this.callSuper('init');var oWindowArea=this.getProperty('windowArea');if(oWindowArea){bb.html.addClass(oWindowArea.viewNode,'btl-windowArea-with-taskBar');}]]></d:body></d:method><d:method name="clear"><d:body type="text/javascript"><![CDATA[this.callSuper('clear');var oWindowArea=this.getProperty('windowArea');if(oWindowArea){bb.html.removeClass(oWindowArea.viewNode,'btl-windowArea-with-taskBar');}]]></d:body></d:method><d:constructor type="text/javascript"><![CDATA[this.__items=[];]]></d:constructor></d:element><d:element name="taskBarItem" extends="b:taskBarItemBase"><d:template type="application/xhtml+xml"><li class="btl-taskBarItem"><div class="btl-taskBarItem-border"><div class="btl-item-inner btl-label"><span class="btl-taskBarItem-text"><d:content/></span></div></div></li></d:template><d:property name="name"><d:setter type="text/javascript"><![CDATA[this.appendChild(bb.document.createTextNode(value));this.viewNode.title=value;this._['_name']=value;]]></d:setter></d:property><d:method name="updateWindow"><d:body type="text/javascript"><![CDATA[if(this._['_window'].getProperty('minimized')){if(this._['_active']){var oItem=this._['_previousActive'];oItem=(oItem&&oItem._)?oItem:this._['_previousActive']=null;this.getProperty('parentNode').setProperty('activeItem',(oItem&&(oItem._._window.getProperty('minimized')||oItem._._removed))?null:oItem);}}]]></d:body></d:method><d:method name="setActive"><d:argument name="active"/><d:body type="text/javascript"><![CDATA[if(active){bb.html.addClass(this.viewNode,'btl-taskBarItem-active');bb.html.removeClass(this._['_window'].viewNode,'btl-taskBar-window-hidden');}else{bb.html.removeClass(this.viewNode,'btl-taskBarItem-active');}this.callSuper('setActive',[active]);]]></d:body></d:method><d:handler type="text/javascript" event="click"><![CDATA[if(this._['_active']&&event.button==0){this._['_window'].setProperty('minimized',true);}else{this.setProperty('active',true);}]]></d:handler><d:handler event="contextmenu" type="text/javascript"><![CDATA[event.preventDefault();event.stopPropagation();var eEvent=bb.document.createEvent('Events');eEvent.initEvent('contextmenu',true,true);eEvent.viewTarget=this._['_window'].__windowHead;eEvent.clientX=event.clientX;eEvent.clientY=event.clientY;this._['_window'].dispatchEvent(eEvent);]]></d:handler></d:element></d:namespace></d:tdl>