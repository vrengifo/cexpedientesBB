<?xml version="1.0" encoding="UTF-8"?><d:tdl xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://www.backbase.com/2006/btl"  xmlns:d="http://www.backbase.com/2006/tdl" >

	<d:namespace name="http://www.backbase.com/2006/btl">

		<d:uses element="loadingMessageBase" src="../loadingMessageBase.xml"/>

		<d:element name="loadingMessage" extends="b:loadingMessageBase">
			

			<d:resource type="text/css"><![CDATA[
				.btl-loadingMessage {
					position: absolute;
					display: none;
					z-index: 999;
					background-image: url(media/gradient.png);
					background-repeat: repeat-x;
					background-color: #F0F0F0;
				}
				.btl-loadingMessage-content {
					height: 100%;
					border: 2px solid white;
					padding: 20px 20px 20px 70px;
					text-align: center;
					vertical-align: middle;
					font-weight: bold;
					background-image: url(media/circle32.gif);
					background-position: 20px center;
					background-repeat: no-repeat;
				}
			]]></d:resource>

			<d:resource type="image/png" src="media/gradient.png"/>
			<d:resource type="image/gif" src="media/circle32.gif"/>

			<d:template type="application/xhtml+xml">
				<table class="btl-loadingMessage btl-border" cellspacing="0" cellpadding="0" border="0">
					<tbody>
						<tr>
							<td class="btl-loadingMessage-content"><d:content/></td>
						</tr>
					</tbody>
				</table>
			</d:template>

			<d:method name="show">
				<d:body type="text/javascript"><![CDATA[
					btl.loadingMessageBase.oMessage = this.viewNode;
					if(window.addEventListener) {
						window.addEventListener('resize', btl.loadingMessageBase.center, false);
					} else if(window.attachEvent) {
						window.attachEvent('onresize', btl.loadingMessageBase.center);
					}
					if(this.viewNode.parentNode.tagName.toUpperCase() != "BODY") {
						document.body.appendChild(this.viewNode);
					}
					this.setProperty("active", true);
					this.viewNode.style.display = 'block';
					btl.loadingMessageBase.center(this.viewNode);
				]]></d:body>
			</d:method>

			<d:method name="hide">
				<d:body type="text/javascript"><![CDATA[
					if(window.removeEventListener) {
						window.removeEventListener('resize', btl.loadingMessageBase.center, false);
					} else if(window.detachEvent) {
						window.detachEvent('onresize', btl.loadingMessageBase.center);
					}
					this.setProperty("active", false);
					this.viewNode.style.display = 'none';
				]]></d:body>
			</d:method>

			<d:destructor type="text/javascript"><![CDATA[
				if(this.getProperty("active"))
					this.hide();
				btl.loadingMessageBase.oMessage = null;
				if(this.viewNode.parentNode)
					this.viewNode.parentNode.removeChild(this.viewNode);
			]]></d:destructor>
		</d:element>
	</d:namespace>
</d:tdl>